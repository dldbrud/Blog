<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>dldbrud Blog</title>
  <link rel="stylesheet" href="style.css" />
  <script>
    // 글 목록을 LocalStorage에서 불러와서 화면에 표시
    function loadPosts() {
      const postList = document.getElementById("post-list");
      postList.innerHTML = ""; // 기존 목록 초기화
      const posts = JSON.parse(localStorage.getItem("posts") || "[]");
      posts.forEach((post, idx) => {
        const li = document.createElement("li");
        li.innerHTML = `<strong>${post.title}</strong>: ${post.content}`;
        postList.appendChild(li);
      });
    }

    // 글 작성 시 LocalStorage에 저장
    function handlePostSubmit(event) {
      event.preventDefault();
      const title = document.getElementById("post-title").value;
      const content = document.getElementById("post-content").value;

      if (!title || !content) {
        alert("제목과 내용을 모두 입력해주세요!");
        return;
      }

      // 기존 글 목록 불러오기
      const posts = JSON.parse(localStorage.getItem("posts") || "[]");
      // 새 글 추가 (최신 글이 위로)
      posts.unshift({ title, content });
      // 저장
      localStorage.setItem("posts", JSON.stringify(posts));

      // 목록 갱신
      loadPosts();

      // 폼 초기화
      document.getElementById("post-form").reset();
    }

    // 페이지 로드 시 글 목록 불러오기
    window.onload = loadPosts;
  </script>
</head>
<body>
  <header>
    <h1>dldbrud Blog</h1>
    <nav>
      <a href="index.html">Home</a> |
      <a href="about.html">About</a>
    </nav>
  </header>

  <main>
    <!-- 최근 글 카드 -->
    <div class="card">
      <h2>📁 Recent Post</h2>
      <ul id="post-list">
        <!-- 자바스크립트로 동적으로 글 목록을 추가 -->
      </ul>
    </div>

    <!-- 글쓰기 카드 (하나만 보이게) -->
    <div class="card">
      <h2>🎓 Write New Post</h2>
      <form id="post-form" onsubmit="handlePostSubmit(event)">
        <input type="text" id="post-title" placeholder="제목을 입력하세요" required />
        <textarea id="post-content" rows="5" placeholder="내용을 입력하세요" required></textarea>
        <button type="submit">작성하기</button>
      </form>
      <p style="font-size: 0.9em; color: #777;">* 실제 저장 기능은 아직 없어요. 추후 JavaScript로 연결할 수 있어요!</p>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 YuKyeong's Blog</p>
  </footer>
</body>
</html>
